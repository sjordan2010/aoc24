const testInput = `190: 10 19
3267: 81 40 27
83: 17 5
156: 15 6
7290: 6 8 6 15
161011: 16 10 13
192: 17 8 14
21037: 9 7 18 13
292: 11 6 16 20`
    .split('\n')
    .map((el) => el.split(':'))
    .map((el) => getNumbers(el));

//
// 282773964526: 6 300 6 85 57 51 66 8
// 9737: 9 1 1 62 9
// 1814424: 202 9 4 3 82 9 603
// 618982: 6 612 97 1 3
// 144229: 1 9 3 12 231
// 280844455: 3 973 39 7 4 451 1
// 93053313: 758 17 54 799 197 9
// 16848: 4 8 2 4 3 39
// 9831864: 5 454 9 8 2 4 38 60 63 8
// 9216: 8 20 7 32 30
// 83915: 63 24 625 39 572
// 1324812384828: 91 886 178 9 4 9 81 6 9
// 9807944: 6 41 9 38 17
// 1011990: 5 95 97 22 89
// 3854: 61 3 9 9 47
// 56253507981121: 97 997 841 711 960
// 424316: 64 3 79 441 74
// 117272977: 6 67 6 475 2 71 878 44
// 2256: 92 9 628 264 435
// 11981841: 443 73 27 112 9
// 1787: 63 5 3 51 7
// 3659864172: 7 398 54 3 2 8 94 8 3 5 2
// 248085895127: 65 7 584 45 68 59 8
// 16660853402: 326 68 3 400 51
// 41592384: 57 761 6 2 9 8
// 9459986: 13 3 4 93 6 97 2 271 2 2
// 13616829: 9 54 20 5 2 12 7 7 6 1 2
// 166598199: 6 5 8 38 7 4 30 899 5 8 1
// 377586995: 751 4 5 869 2 2 72
// 320173: 62 4 70 48 8 3
// 963099536: 188 908 93 81 9 534
// 331336: 143 683 401 5 99 6
// 50535518: 9 6 6 5 1 1 4 61 26 7 4 87
// 477: 14 8 7 4 1
// 11968171: 9 85 9 316 2 7 4 104 15
// 495519: 791 419 339 81 76 4
// 12480: 2 929 485 213 562 2 4
// 1307445699: 1 8 4 1 4 28 476 9 8 3 3 9
// 1435: 7 32 2 7 6 40
// 25913272: 43 2 7 1 67 22 59 31 4
// 7266511816: 3 269 925 5 97 9 466
// 59303392302: 5 74 6 427 5 6 88 3 5 6 5
// 11455248: 3 98 9 42 1 285 2 7 662
// 2404154: 9 3 371 3 24
// 190728476: 2 8 3 2 596 39 9 447 6 8
// 40749652398: 9 3 3 497 5 6 5 5 2 392 5
// 2283838454: 1 4 3 7 5 9 4 1 7 8 9 828
// 9239008: 769 28 2 161 3 6 4 8 6 4
// 2848880061: 9 5 42 3 5 2 8 476 204 5
// 615780855301: 4 4 1 8 23 404 9 1 2 5 5 6
// 6044: 9 5 8 4 1 28 54 7 6 1 563
// 49295691: 161 62 1 373 59 9
// 116571994: 8 7 9 7 200 58 7 354 77
// 88343824059: 724 5 41 7 8 9 2 7 744 6
// 29725: 2 13 3 66 2 4
// 7000627200: 5 54 206 8 50 24 4 383
// 19577668368: 73 352 7 894 2 852
// 22491: 84 654 2 116 3
// 398373: 219 4 9 5 33 6
// 509953: 53 89 75 235 3
// 27740: 1 320 5 94 76 8 736 5
// 850240482: 8 4 9 70 3 5 2 530 1 4 8 5
// 208: 6 7 7 43 74
// 99824431656: 450 8 711 8 78 5 45 1 9
// 693095506: 90 77 9 550 6
// 4414: 8 9 5 6 461 8
// 760653718: 84 4 3 8 4 3 9 2 50 464 1
// 16871764: 5 450 142 2 1 36 5 7 3 5
// 34513: 6 99 13 7 48
// 807678432: 39 992 374 54
// 116870416: 93 23 870 356 61
// 65653: 698 1 433 58 55
// 2176: 9 25 64 1
// 6520574: 3 3 6 13 2 389 8 945 4
// 8062111: 83 5 758 762 54 5 9 1
// 4690: 479 4 8 822 1 7
// 600: 50 3 4
// 30237: 914 89 36 4 28 994 39
// 60639: 670 13 5 9 29 3
// 833482: 2 9 4 39 299 16 33 2
// 62188602: 30 94 1 2 8 277 3 60 5
// 646272: 83 38 5 5 2 22 48
// 7797254949: 448 10 4 3 5 87 666 9
// 182106834186: 3 71 7 899 78 1 89
// 204713987: 27 967 76 73 25 61
// 65062185851: 8 406 2 9 9 3 1 8 5 85 2 1
// 2442779235476: 2 4 42 779 235 476
// 1101541404783: 5 494 8 784 1 8 63 2 9 6
// 20022139050: 6 577 756 51 55 150
// 9334693099: 93 3 469 309 7
// 43468360: 90 1 15 3 6 5 26 6 6 86 4
// 53125168450: 2 1 14 90 81 2 9 21 4 50
// 1675: 50 2 86 7 79 6 192 1 95
// 44954008: 726 86 18 4 8 6
// 1855: 84 2 5 97 6 706 2 953
// 3398: 3 911 6 93 5 561
// 240590073: 840 612 234 4 312 2
// 45648251: 36 3 2 9 22 747 481 54
// 31494224: 501 6 62 60 224
// 19022: 3 1 4 2 48 1 53 4
// 470975: 54 2 62 65 704
// 83169544: 7 4 840 998 9 562
// 42134273: 1 819 585 37 3 31 73
// 1332: 96 5 366
// 207764: 4 98 53 4
// 35716660368: 420 1 96 85 368
// 154816372258: 2 6 8 1 523 7 8 1 709 6 4
// 47658307: 35 1 1 983 1 8 42 70 85
// 1285582: 5 89 4 218 691
// 8449218636: 92 4 8 151 4 879 6 639
// 811125: 9 9 91 9 6 312
// 6540: 5 67 8 492 367
// 248227642: 3 755 686 807 80 213
// 178168925418: 134 7 8 4 7 8 4 6 745 9 2
// 40272366834: 4 63 657 954 959
// 752285864242: 940 3 5 7 330 3 80 1
// 57089214: 1 8 753 4 9 91 91
// 254401: 5 5 5 9 2 706 12 4 191 1
// 289690622: 438 6 7 96 6 669 1 240
// 64649: 73 7 8 8 9 1
// 7651: 85 9 65 48 19
// 1821: 2 2 1 8 9 42
// 193243: 2 5 5 9 1 1 1 20 8 788 2 4
// 39264864: 6 9 9 73 25 1 54 8 2 552
// 5618264957: 81 261 4 16 88 70 659
// 27290: 8 98 693 280 15 935
// 35742721: 8 716 78 8 4
// 9360: 18 8 65
// 229680792: 11 72 1 1 2 3 533 6 2 9 6
// 1395376: 9 9 34 5 7 98 739 7
// 425812869100: 266 12 667 345 2 2 5 8
// 116284: 6 37 36 9 232 65
// 227233559: 51 1 93 43 167 51 5
// 25013651680: 710 615 44 60 1 399 8
// 12783096: 8 7 5 6 5 2 745 85 96
// 122796: 6 2 9 2 8 200 2 6 27 1 36
// 3201265: 714 94 4 6 66
// 13432931938: 961 173 73 5 5 12 673
// 1491958: 586 67 38
// 307760: 12 26 4 70 8
// 127538520: 6 6 511 435 536
// 3804190: 439 1 3 9 96
// 10528777518: 7 94 55 373 77 75 15
// 3950245: 3 631 89 6 7 4
// 11351826131: 47 89 8 237 134
// 1371750: 42 14 2 93 25
// 10089793: 34 970 87 410 90
// 135793394: 5 7 2 1 6 14 8 62 7 17 4 7
// 5467360: 25 4 31 190 45 32
// 49150761097: 98 85 1 4 892 5 4 7 667
// 25020907: 53 281 6 10 1 2 14 639
// 20376257: 97 21 59 10 349
// 25198543: 8 8 2 129 6 98 6 4 3 3 5 5
// 8740866: 87 202 205 1 65
// 765976644056: 979 509 775 782 5
// 211736: 882 5 8 6 56
// 172867358762: 67 258 7 358 760
// 27021769152: 270 99 6 752 9 2 7 6 8 4
// 6486: 64 8 6
// 16370794990653: 715 795 5 3 8 162 4 72
// 75950: 8 8 1 2 7 1 102 74 7 50
// 1890962164: 3 75 9 8 9 7 6 8 53 2 4 1
// 36552: 7 155 9 4 25 2
// 528976841: 459 69 971 82 501 9
// 12617168724: 4 9 6 8 686 427 322 5 5
// 21463150097: 7 3 4 63 150 10 97
// 1291956: 5 6 78 2 6 30 93 31 2 2
// 2767401: 1 2 1 9 5 8 5 1 951 403
// 654853: 94 2 466 353 492 5
// 8482556: 1 69 75 585 56
// 776226044: 2 3 275 2 4 69 9 4 41
// 2897117690022: 9 29 50 5 5 77 2 8 3 9 9 2
// 20834: 209 65 74 4 557
// 53683: 4 3 7 2 9 9 3 538 959 6 5
// 1072822036014: 25 763 7 83 592 1 95
// 28470973867: 1 807 6 98 6 9 4 8 60 5 5
// 4730450: 5 666 6 834
// 38783138: 38 7 1 82 20 93 5 5
// 1229280: 296 477 343 66 16 65
// 2105673483: 66 997 4 218 967 8
// 99285: 3 669 7 49 9 69 512 9
// 9135: 5 4 4 4 92 3 481 828 95
// 418720: 16 26 24 248 2
// 41660694: 6 132 868 98 3
// 79461422: 799 64 711 92 8
// 78900784: 164 879 9 75 785
// 321783039886: 5 7 7 5 366 3 8 9 8 51 35
// 44238422: 9 1 3 767 2 8 3 1 7 4 4 22
// 4052: 19 1 7 2 75
// 4241515618: 7 6 415 156 20
// 172815106: 78 3 6 4 3 5 37 7 8 662 6
// 12961912: 629 7 733 7 53 6 9 1 9 6
// 3221260: 5 324 99 6 99
// 69252725603: 961 840 3 409 72 155
// 64606511: 6 3 5 7 96 7 2 5 2 1 6 2
// 2712508: 1 7 795 3 3 9 3 426 4 2 6
// 96279559: 7 1 907 6 463 8 955 9
// 17382804784: 71 1 3 6 19 37 8 57 42 2
// 608: 355 84 58 3 108
// 22788516579714: 8 2 2 77 51 2 3 685 3 7 5
// 10413092463: 61 9 8 261 8 3 84 9 2 7 2
// 493395: 5 341 35 5 7 37
// 1110: 45 8 53 5 914 85
// 290494566: 10 9 78 9 590 6 6 9 5 69
// 217807638: 5 1 599 3 7 85 55 63 6
// 553644516: 553 6 445 15
// 2494: 25 202 85 8 1
// 1130126068: 891 317 53 31 517 4
// 580462601: 6 4 99 8 4 8 4 72 8 32 8 9
// 94899600: 99 2 6 9 696 25
// 7180338: 14 3 5 1 5 48 41
// 17883: 992 3 3 9 2 5 4
// 298960: 3 6 3 3 78 9 904 16 5 16
// 1256036: 4 60 5 522 626
// 10056175920: 7 77 9 1 135 102 46 3 7
// 214394: 9 85 6 1 28
// 222768: 93 2 2 26 9
// 70896: 47 4 139 3 1
// 828727414020: 56 810 70 82 870 3 2
// 2726478861: 6 2 953 28 2 509 70
// 3661356469: 10 951 5 770 64 68
// 3093697: 61 11 82 524 1
// 1581223: 2 399 29 478 4
// 144528: 2 6 70 66 832 7 8 308 8
// 1560089796: 8 9 724 8 10 999 3 7 7
// 524867255: 7 91 4 6 3 4 68 8 4 74 5 5
// 6546332840318: 9 58 10 3 6 6 6 7 209 1 9
// 340267842041: 48 3 3 35 4 44 2 2 5 6 4 1
// 106619048: 56 411 41 99 424 5 6 2
// 11007: 35 523 4 74 587 9
// 3448675: 3 1 5 1 1 172 1 3 2 7 4
// 3232805727: 4 30 3 898 5 730
// 286485725986: 65 9 4 4 63 4 6 3 7 332 9
// 68357520: 28 8 55 7 822 6
// 5328894: 565 316 8 7 6 3 3 85 7 6
// 271298568: 83 813 8 402 82 9
// 71406: 92 621 87 3 6 8
// 3850084094: 5 5 700 795 43 1 7 277
// 2647261804: 8 7 3 1 93 73 84 3 60 2 4
// 39655042363: 6 66 550 42 363
// 6826456: 31 8 19 8 1 8 5 202 2 65
// 207376577273: 665 3 9 565 2 31 2 5 2 1
// 84617: 7 2 22 9 16
// 2508164334: 71 3 8 4 800 164 336
// 8846609: 5 51 55 67 70 71 7
// 817389001526: 47 8 19 1 9 900 1 528 1
// 231543: 6 78 494 23 328
// 2704854957: 3 20 2 28 3 1 549 55
// 87792: 1 8 7 792
// 728526617: 6 2 5 816 8 5 4 9 5 4 3 8
// 4467157029: 7 9 4 6 3 8 1 335 9 3 7 70
// 119125482: 5 9 1 9 2 8 7 1 77 3 86
// 606124: 24 25 9 46 5 26 1 99
// 36952541624: 5 39 1 379 5 1 3 161 6 7
// 3065247: 7 3 1 4 30 258 19 2 2 9
// 971579: 480 869 72 29 9
// 1891834: 16 525 5 40 45 34
// 17800903630: 232 6 9 4 9 2 7 74 7 8 9 7
// 39253993319: 32 10 7 9 2 46 8 6 85 9
// 4808394700: 56 779 3 883 11 8 702
// 7543: 5 3 50 4 4 1 9 9 6 8 618 8
// 6152242: 1 8 6 74 1 9 94 760 38 2
// 21560435: 904 53 5 18 7 5
// 6452: 78 5 14 8 917 67
// 34492964: 54 46 53 262 47 91
// 6143: 8 1 4 76 69
// 2650433: 3 503 638 3 64
// 32608539392: 1 4 2 485 4 8 88 13 694
// 996914: 8 8 11 6 9 15
// 7491434: 7 1 490 53 1 10 1 79 2 4
// 1444787: 268 93 4 531 254
// 1699218797: 1 3 91 40 9 93 5 2 9 9
// 125: 45 2 14 2 3
// 1560635136942: 312 5 635 13 694 5
// 1364803895: 988 77 2 138 7 65
// 185892174: 5 108 8 7 51 8 8 1 90 4 9
// 4909: 9 63 68 6 7
// 125698: 77 265 535 6 59
// 539863272: 2 3 9 536 6 7 1 37 51 72
// 703320: 4 6 8 6 9 4 213 5 3 9 410
// 1171: 1 9 122 2 71
// 87545446: 4 1 8 9 71 90 92 2 87
// 3454542861344: 3 33 26 399 861 3 44 1
// 198829067: 6 8 64 5 4 2 14 9 152 7
// 3637527: 69 4 9 61 6 24 67 740
// 115169108: 59 3 3 39 449 9 8 4 50 8
// 52105: 1 9 3 2 62 137 5 45
// 9997: 386 772 91 2 4 5
// 1698163241434: 288 41 8 7 736 1 9 436
// 13954511681: 852 8 59 2 3 303 18
// 62128443: 49 3 7 51 3 9 6 1 187 3
// 33963194: 2 3 8 5 5 1 8 4 6 388 9 5
// 166733310603: 9 5 24 4 91 6 9 6 969 4 6
// 4742402: 7 614 7 582 53 10 3 32
// 1205991360: 34 6 32 9 4 56 45 734
// 92363911263: 3 57 9 2 1 9 2 6 521 6 2
// 404026558: 816 2 63 8 980
// 4114042047: 9 1 6 6 4 8 7 2 20 7 204 7
// 187800: 2 8 6 7 2 385 503 3 6 4 5
// 773000606511: 480 5 623 92 7 5 2 48 9
// 4575227: 4 2 1 21 6 9 73 5 6 8 3 24
// 24437686: 5 541 71 37 64 88
// 7024283808: 707 545 6 603 935
// 15541937280: 605 657 7 391 75 8
// 1588304669: 8 1 5 1 8 7 7 4 700 6 66
// 55582288572: 3 70 94 5 9 4 9 4 8 45 3 9
// 1258520904: 1 569 4 151 10 7 6 2 4
// 194000: 210 22 42 708 5
// 1004532: 2 9 977 9 532
// 28242055: 31 9 7 387 71 255 40
// 2497162: 3 80 27 1 39 383 2
// 2113202995948: 132 512 599 58 83 9
// 4169396: 45 4 1 6 895 9 211 247
// 4167651: 783 9 3 5 7 4 5 8 5 757 2
// 62430315: 6 39 977 1 8
// 145045721765: 38 3 3 9 8 92 204 863 4
// 1713620: 85 681 20
// 8652047: 4 8 61 2 719 204 5 2
// 83092616: 25 73 5 247 3 5 77 8
// 298683: 44 22 9 2 492 1 524 3
// 209527771530: 737 25 465 58 49
// 5348998: 891 4 8 8 75
// 102566433: 7 9 5 1 2 8 2 7 31 91 3 2
// 16159: 6 5 8 839 218
// 116652639: 12 8 4 97 9 911
// 1177258162: 21 8 6 5 317 8 18 955
// 88785: 7 413 68 6 1 3
// 24757333: 745 4 27 2 5 2 9 68 97
// 12893032: 11 865 5 271 152 55
// 4150408646: 8 63 904 532 5
// 1424648: 7 747 339 179 4 35 8 8
// 639080: 78 315 10 2 13
// 64638140111: 140 29 11 2 537 78
// 23239: 83 74 148
// 22735784: 5 39 42 97 78 4
// 1776931595: 6 633 704 5 5 79
// 420869739792: 601 2 42 2 2 8 4 8 6 7 3 6
// 300460: 5 9 4 7 4 7 626 5 8
// 49077: 23 75 41 72 12
// 5846791: 58 467 7 1 9
// 128174255: 2 101 71 445 59
// 9548470573: 2 795 95 46 1 762 6
// 1200810: 704 568 3 888 306
// 8268178: 3 984 92 28 5
// 1251: 3 57 64 8 1 1
// 36297: 8 551 59 2 6 52 8 81
// 26920458: 9 89 40 97 55 8 6
// 63313: 6 6 7 866 93
// 41711425: 21 36 53 3 725
// 1266480065088: 578 8 1 2 547 627 4 4 2
// 1256275: 4 4 6 6 6 8 3 3 9 24 7 25
// 351751992: 272 9 8 1 5 1 24 6 52 7 4
// 1141050240: 506 4 87 8 810
// 2732172398: 4 3 8 16 3 59 65 2 69 98
// 496204: 82 2 1 7 89 54
// 2351040677: 4 7 4 505 60 24 67 8
// 20361680: 9 376 8 6 9 681
// 19565: 93 795 90 2 5
// 157: 6 4 8 39 39
// 55066: 3 923 75 55 10
// 678078: 9 53 37 539 1 4 7 5
// 2068976356: 17 8 48 812 254 99
// 1167049647: 476 7 141 1 4 9 531 69
// 47340932167: 493 644 4 42 70 991
// 3176645: 5 59 2 157 8 1 6 9 48 4
// 363525896226: 6 8 861 930 7 8 225
// 15948: 214 31 7 940 3 6
// 2167814926453: 78 887 687 4 5 807 2 4
// 2218: 2 6 5 469 18 956 687
// 294158590: 18 12 382 56 9 976
// 23101312: 181 9 2 635 9
// 9109854003: 87 587 9 78 375 456
// 13759: 9 140 70 6 453
// 410519041983: 3 3 9 9 4 5 4 36 8 8 1 981
// 38631736: 52 807 10 950 15 9
// 19389630: 4 884 87 7 390
// 2353160400888: 4 744 275 496 888
// 4620: 33 1 84 1 31 3 5 5 5 6
// 74595: 745 20 78
// 1007311921628: 4 880 6 440 8 4 4 647
// 553: 1 9 506 3 4 30
// 2879: 3 74 7 258 5
// 9755: 23 10 88 9 8
// 1283480: 2 2 90 5 8 67 8 1 33 1 5 7
// 5221132: 15 866 62 6 40 84 8
// 2077360320: 8 4 8 805 1 6 8 7 1 42 8 4
// 1215068: 651 266 275 7 982
// 21160956866: 41 935 12 8 46 66
// 265482518844: 301 882 5 188 44
// 4337814321: 43 93 84 493 643 2
// 363048346: 747 9 6 617 74 8 9 4 50
// 368017137496: 99 59 541 865 63
// 118224970527: 3 2 4 8 14 25 5 8 2 5 5 71
// 95338728: 30 92 9 571 6
// 719154430: 996 526 6 8 72 82
// 61229835: 6 425 2 8 5 7 7 3 9 150 8
// 1308850290566: 156 711 9 29 580 4 8 6
// 131674: 4 94 935 5 69 3 3
// 1720: 4 8 22 3 39 3 9 127 4 5
// 54321382: 97 56 12 70 46 65
// 578: 55 1 8 133 5
// 17120: 2 9 6 12 8 685 4 3 8 656
// 56014516: 55 72 27 2 41 13 403
// 1031940: 65 2 73 32 7 49 61 84 7
// 3480490: 2 5 70 3 497
// 109494584: 8 964 302 621 27 47
// 6624870401: 6 46 9 61 88 6 870 401
// 1932590647866: 41 45 3 1 1 9 7 6 8 3 6 74
// 4251407: 25 1 2 31 1 5 521 5 43
// 6370650: 57 83 1 835 99 66
// 1424752683: 212 56 932 7 4 3 3
// 2047788: 98 5 1 2 6 346 2 40 812
// 2135380: 9 62 5 5 764
// 16782872260: 44 873 99 4 935
// 529647: 1 980 79 29 5
// 1034281: 72 214 20 52 65
// 1481605493: 57 65 257 49 4
// 26823: 244 8 88 797 2 731 2 3
// 294907969: 8 88 9 5 3 738 956
// 258989: 71 4 6 91
// 17858: 6 4 3 248
// 263467053076: 62 82 7 3 5 509 342 76
// 13779755961: 7 3 573 7 5 5 6 365 22
// 370: 35 5 4 1 9
// 167010: 30 6 59 3 586
// 500009855775: 1 7 16 3 3 399 5 3 577 8
// 8470455: 28 52 495 2 6
// 16770537: 69 4 6 319 305 19 14
// 10543: 15 4 57 7 85 3
// 237976754: 5 718 2 5 19 52 4
// 115325496456: 6 3 31 253 8 9 382 75
// 8571959: 8 6 8 39 9 79 8 7 673 6
// 556951135688: 6 10 8 404 743 9 859 9
// 282684: 3 2 7 58 6 82
// 249472: 2 48 5 9 70
// 8295: 82 4 5 2 3
// 21988671258: 2 443 9 1 671 17 9 1
// 2737827433: 3 2 6 507 3 457 6 4 8
// 638692: 189 39 7 73 4
// 2939773270: 584 5 19 773 270
// 761567: 92 5 7 8 4 5 4 291 1 4
// 12640207: 3 1 5 6 3 1 13 5 6 9 692 3
// 417802012: 2 37 78 1 21 654
// 10995267: 4 1 9 1 4 2 3 1 84 9 6
// 902703291: 580 308 7 31 163
// 371907: 871 6 84 387
// 55152844588: 90 965 973 4 157 587
// 2831012450: 57 757 1 81 81`
//     .split('\n')
//     .map((el) => el.split(':'))
//     .map((el) => getNumbers(el));

/// ---------- PART ONE ---------- ///
function getNumbers(arr: string[]) {
    const target = +arr[0];
    const numbers = arr[1].trim().split(' ').map(Number);

    return [target, ...numbers];
}

const solve = (arr: number[]): boolean => {
    const target = arr[0];
    const numbers = arr.slice(1);

    const combinations = generateAllOperatorCombinations(arr.length - 1, ['+', '*']);

    for (let i = 0; i < combinations.length; i++) {
        let result: number = numbers[0];

        for (let j = 1; j < numbers.length; j++) {
            let currentOperation = combinations[i][j];

            if (currentOperation === '+') {
                result += numbers[j];
            }
            if (currentOperation === '*') {
                result *= numbers[j];
            }
        }
        if (result === target) return true;
    }

    return false;
};

// console.log(testInput.filter(solve).reduce((acc, curr) => acc + curr[0], 0));

/// ---------- PART TWO ---------- ///
function generateAllOperatorCombinations(length: number, operators: string[]) {
    if (length <= 0) return [];

    function generate(currentLength) {
        /// base case
        if (currentLength === 1) {
            return operators.map((el) => [el]);
        }

        const prevCombinations = generate(currentLength - 1);

        // Create new combinations by adding '+' or '*' to previous combinations
        const newCombinations: any[] = [];
        prevCombinations.forEach((combination) => {
            operators.forEach((el) => newCombinations.push([...combination, el]));
        });

        return newCombinations;
    }

    return generate(length);
}

function concatenateNumbers(num1: number, num2: number) {
    return num1 * Math.pow(10, Math.floor(Math.log10(num2) + 1)) + num2;
}

const solvePartTwo = (arr: number[]): boolean => {
    const target = arr[0];
    const numbers = arr.slice(1);

    const combinations = generateAllOperatorCombinations(arr.length - 1, ['+', '*', '||']);

    for (let i = 0; i < combinations.length; i++) {
        let result: number = numbers[0];

        for (let j = 1; j < numbers.length; j++) {
            let currentOperation = combinations[i][j];

            if (currentOperation === '||') {
                result = concatenateNumbers(result, numbers[j]);
            }
            if (currentOperation === '+') {
                result += numbers[j];
            }
            if (currentOperation === '*') {
                result *= numbers[j];
            }
        }
        if (result === target) return true;
    }

    return false;
};

// console.log(testInput.filter(solvePartTwo).reduce((acc, curr) => acc + curr[0], 0));
